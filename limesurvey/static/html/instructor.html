<div class="limesurvey-instructor-wrapper"></div>
<table class="limesurvey-xblocks-table">
    <thead>
        <tr>
            <th>Component</th>
            <th>Management Console</th>
        </tr>
    </thead>
    <tbody>
        {% for name, url in xblock_urls %}
        <tr>
            <td>{{ name }}</td>
            <td>
                <a class="admin-panel" href="{{ url }}/admin/"><button type="button">Management Console</button></a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script type="text/javascript">
    $(function () {
        $('.limesurvey-instructor-wrapper').hide();
        $('.admin-panel').click(function (e) {
            e.preventDefault();
            $('.limesurvey-instructor-wrapper').show();
            const url = $(this).attr('href');
            $('.limesurvey-instructor-wrapper').append(`
                <a href="" class="go-back">Back</a>
                <div>
                    <iframe
                        class="limesurvey-admin-iframe"
                        frameborder="0"
                        src="${url}">
                    </iframe>
                </div>
            `);
            $('.limesurvey-xblocks-table').hide();
            $('.go-back').click(function (e) {
                e.preventDefault();
                $('.limesurvey-xblocks-table').show();
                $('.limesurvey-instructor-wrapper').html('');
                $(this).hide();
            });
        })
    });
</script>
